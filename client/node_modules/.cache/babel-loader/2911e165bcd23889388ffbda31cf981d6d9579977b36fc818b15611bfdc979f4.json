{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Omkar\\\\Downloads\\\\Codeit\\\\Codeit\\\\client\\\\src\\\\components\\\\EditorPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Client from \"./Client\";\nimport Editor from \"./Editor\";\nimport FileExplorer from \"./FileExplorer\";\nimport { initSocket } from \"../Socket\";\nimport { ACTIONS } from \"../Actions\";\nimport { useNavigate, useLocation, Navigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditorPage() {\n  _s();\n  const [clients, setClients] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [activeFileId, setActiveFileId] = useState(null);\n  const codeRef = useRef(null);\n  const Location = useLocation();\n  const navigate = useNavigate();\n  const {\n    roomId\n  } = useParams();\n  const socketRef = useRef(null);\n  useEffect(() => {\n    const init = async () => {\n      var _Location$state;\n      socketRef.current = await initSocket();\n      socketRef.current.on(\"connect_error\", err => handleErrors(err));\n      socketRef.current.on(\"connect_failed\", err => handleErrors(err));\n      const handleErrors = err => {\n        console.error(\"Socket error:\", err);\n        toast.error(\"Connection failed. Please try again.\");\n        navigate(\"/\");\n      };\n\n      // Join room\n      socketRef.current.emit(ACTIONS.JOIN, {\n        roomId,\n        username: (_Location$state = Location.state) === null || _Location$state === void 0 ? void 0 : _Location$state.username\n      });\n\n      // Handle new clients joining\n      socketRef.current.on(ACTIONS.JOINED, ({\n        clients,\n        username,\n        socketId\n      }) => {\n        var _Location$state2;\n        if (username !== ((_Location$state2 = Location.state) === null || _Location$state2 === void 0 ? void 0 : _Location$state2.username)) {\n          toast.success(`${username} joined the room`);\n        }\n        setClients(clients);\n        // Sync code with new user\n        socketRef.current.emit(ACTIONS.SYNC_CODE, {\n          code: codeRef.current,\n          socketId,\n          fileId: activeFileId\n        });\n      });\n\n      // Handle client disconnection\n      socketRef.current.on(ACTIONS.DISCONNECTED, ({\n        socketId,\n        username\n      }) => {\n        toast.success(`${username} left the room`);\n        setClients(prev => prev.filter(client => client.socketId !== socketId));\n      });\n\n      // Receive files when joining room\n      socketRef.current.on(ACTIONS.FILE_SYNC, ({\n        files\n      }) => {\n        setFiles(files);\n        if (files.length > 0 && !activeFileId) {\n          setActiveFileId(files[0].id);\n        }\n      });\n\n      // Handle file creation from other users\n      socketRef.current.on(ACTIONS.FILE_CREATE, ({\n        file\n      }) => {\n        setFiles(prev => {\n          if (prev.find(f => f.id === file.id)) return prev;\n          return [...prev, file];\n        });\n      });\n\n      // Handle file deletion from other users\n      socketRef.current.on(ACTIONS.FILE_DELETE, ({\n        fileId\n      }) => {\n        setFiles(prev => {\n          const newFiles = prev.filter(f => f.id !== fileId);\n          if (fileId === activeFileId && newFiles.length > 0) {\n            setActiveFileId(newFiles[0].id);\n          }\n          return newFiles;\n        });\n      });\n\n      // Handle file rename from other users\n      socketRef.current.on(ACTIONS.FILE_RENAME, ({\n        fileId,\n        newName\n      }) => {\n        setFiles(prev => prev.map(f => f.id === fileId ? {\n          ...f,\n          name: newName\n        } : f));\n      });\n    };\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n        socketRef.current.off(ACTIONS.JOINED);\n        socketRef.current.off(ACTIONS.DISCONNECTED);\n        socketRef.current.off(ACTIONS.FILE_SYNC);\n        socketRef.current.off(ACTIONS.FILE_CREATE);\n        socketRef.current.off(ACTIONS.FILE_DELETE);\n        socketRef.current.off(ACTIONS.FILE_RENAME);\n      }\n    };\n  }, []);\n\n  // Redirect if no username\n  if (!Location.state) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Copy room ID to clipboard\n  const copyRoomId = async () => {\n    try {\n      await navigator.clipboard.writeText(roomId);\n      toast.success(\"Room ID copied!\");\n    } catch (error) {\n      toast.error(\"Failed to copy Room ID\");\n    }\n  };\n\n  // Leave room and go home\n  const leaveRoom = () => {\n    navigate(\"/\");\n  };\n\n  // ========== FILE MANAGEMENT HANDLERS ==========\n\n  const handleFileCreate = fileName => {\n    if (!socketRef.current) {\n      toast.error(\"Not connected to server\");\n      return;\n    }\n    const newFile = {\n      id: `file-${Date.now()}`,\n      name: fileName,\n      content: \"\"\n    };\n\n    // Add to local state immediately (optimistic update)\n    setFiles(prev => [...prev, newFile]);\n    setActiveFileId(newFile.id);\n\n    // Sync with server\n    socketRef.current.emit(ACTIONS.FILE_CREATE, {\n      roomId,\n      file: newFile\n    });\n    toast.success(`${fileName} created`);\n  };\n  const handleFileImport = (fileName, content) => {\n    if (!socketRef.current) {\n      toast.error(\"Not connected to server\");\n      return;\n    }\n    const newFile = {\n      id: `file-${Date.now()}`,\n      name: fileName,\n      content: content\n    };\n\n    // Add to local state immediately (optimistic update)\n    setFiles(prev => [...prev, newFile]);\n    setActiveFileId(newFile.id);\n\n    // Sync with server\n    socketRef.current.emit(ACTIONS.FILE_CREATE, {\n      roomId,\n      file: newFile\n    });\n    toast.success(`${fileName} imported`);\n  };\n  const handleFileDelete = fileId => {\n    if (files.length <= 1) {\n      toast.error(\"Cannot delete the last file\");\n      return;\n    }\n\n    // Remove from local state immediately\n    setFiles(prev => {\n      const newFiles = prev.filter(f => f.id !== fileId);\n      if (fileId === activeFileId && newFiles.length > 0) {\n        setActiveFileId(newFiles[0].id);\n      }\n      return newFiles;\n    });\n\n    // Sync with server\n    socketRef.current.emit(ACTIONS.FILE_DELETE, {\n      roomId,\n      fileId\n    });\n    toast.success(\"File deleted\");\n  };\n  const handleFileRename = (fileId, newName) => {\n    // Update local state immediately\n    setFiles(prev => prev.map(f => f.id === fileId ? {\n      ...f,\n      name: newName\n    } : f));\n\n    // Sync with server\n    socketRef.current.emit(ACTIONS.FILE_RENAME, {\n      roomId,\n      fileId,\n      newName\n    });\n    toast.success(\"File renamed\");\n  };\n  const handleFileSelect = fileId => {\n    setActiveFileId(fileId);\n  };\n  const handleCodeChange = code => {\n    codeRef.current = code;\n    // Update file content in local state\n    setFiles(prev => prev.map(f => f.id === activeFileId ? {\n      ...f,\n      content: code\n    } : f));\n  };\n\n  // Get active file object\n  const activeFile = files.find(f => f.id === activeFileId);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid vh-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row h-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-2 bg-dark text-light d-flex flex-column h-100\",\n        style: {\n          boxShadow: \"2px 0px 4px rgba(0, 0, 0, 0.1)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            marginTop: \"-3rem\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FileExplorer, {\n          files: files,\n          activeFile: activeFileId,\n          onFileSelect: handleFileSelect,\n          onFileCreate: handleFileCreate,\n          onFileDelete: handleFileDelete,\n          onFileRename: handleFileRename,\n          onFileImport: handleFileImport\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column flex-grow-1 overflow-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-2 text-light\",\n            children: \"\\uD83D\\uDC65 Members\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), clients.map(client => /*#__PURE__*/_jsxDEV(Client, {\n            username: client.username\n          }, client.socketId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-auto mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success w-100 mb-2\",\n            onClick: copyRoomId,\n            children: \"\\uD83D\\uDCCB Copy Room ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger w-100\",\n            onClick: leaveRoom,\n            children: \"\\uD83D\\uDEAA Leave Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-10 text-light d-flex flex-column h-100\",\n        children: activeFile ? /*#__PURE__*/_jsxDEV(Editor, {\n          socketRef: socketRef,\n          roomId: roomId,\n          fileId: activeFileId,\n          content: activeFile.content,\n          onCodeChange: handleCodeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center justify-content-center h-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center text-muted\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No file selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Create a new file or import one to get started\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\n_s(EditorPage, \"1/osR6+Jzl35oL9FJCwWutV3QLs=\", false, function () {\n  return [useLocation, useNavigate, useParams];\n});\n_c = EditorPage;\nexport default EditorPage;\nvar _c;\n$RefreshReg$(_c, \"EditorPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Client","Editor","FileExplorer","initSocket","ACTIONS","useNavigate","useLocation","Navigate","useParams","toast","jsxDEV","_jsxDEV","EditorPage","_s","clients","setClients","files","setFiles","activeFileId","setActiveFileId","codeRef","Location","navigate","roomId","socketRef","init","_Location$state","current","on","err","handleErrors","console","error","emit","JOIN","username","state","JOINED","socketId","_Location$state2","success","SYNC_CODE","code","fileId","DISCONNECTED","prev","filter","client","FILE_SYNC","length","id","FILE_CREATE","file","find","f","FILE_DELETE","newFiles","FILE_RENAME","newName","map","name","disconnect","off","to","fileName","_jsxFileName","lineNumber","columnNumber","copyRoomId","navigator","clipboard","writeText","leaveRoom","handleFileCreate","newFile","Date","now","content","handleFileImport","handleFileDelete","handleFileRename","handleFileSelect","handleCodeChange","activeFile","className","children","style","boxShadow","marginTop","onFileSelect","onFileCreate","onFileDelete","onFileRename","onFileImport","onClick","onCodeChange","_c","$RefreshReg$"],"sources":["C:/Users/Omkar/Downloads/Codeit/Codeit/client/src/components/EditorPage.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Client from \"./Client\";\nimport Editor from \"./Editor\";\nimport FileExplorer from \"./FileExplorer\";\nimport { initSocket } from \"../Socket\";\nimport { ACTIONS } from \"../Actions\";\nimport {\n  useNavigate,\n  useLocation,\n  Navigate,\n  useParams,\n} from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\n\nfunction EditorPage() {\n  const [clients, setClients] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [activeFileId, setActiveFileId] = useState(null);\n  const codeRef = useRef(null);\n\n  const Location = useLocation();\n  const navigate = useNavigate();\n  const { roomId } = useParams();\n  const socketRef = useRef(null);\n\n  useEffect(() => {\n    const init = async () => {\n      socketRef.current = await initSocket();\n      socketRef.current.on(\"connect_error\", (err) => handleErrors(err));\n      socketRef.current.on(\"connect_failed\", (err) => handleErrors(err));\n\n      const handleErrors = (err) => {\n        console.error(\"Socket error:\", err);\n        toast.error(\"Connection failed. Please try again.\");\n        navigate(\"/\");\n      };\n\n      // Join room\n      socketRef.current.emit(ACTIONS.JOIN, {\n        roomId,\n        username: Location.state?.username,\n      });\n\n      // Handle new clients joining\n      socketRef.current.on(ACTIONS.JOINED, ({ clients, username, socketId }) => {\n        if (username !== Location.state?.username) {\n          toast.success(`${username} joined the room`);\n        }\n        setClients(clients);\n        // Sync code with new user\n        socketRef.current.emit(ACTIONS.SYNC_CODE, {\n          code: codeRef.current,\n          socketId,\n          fileId: activeFileId,\n        });\n      });\n\n      // Handle client disconnection\n      socketRef.current.on(ACTIONS.DISCONNECTED, ({ socketId, username }) => {\n        toast.success(`${username} left the room`);\n        setClients((prev) => prev.filter((client) => client.socketId !== socketId));\n      });\n\n      // Receive files when joining room\n      socketRef.current.on(ACTIONS.FILE_SYNC, ({ files }) => {\n        setFiles(files);\n        if (files.length > 0 && !activeFileId) {\n          setActiveFileId(files[0].id);\n        }\n      });\n\n      // Handle file creation from other users\n      socketRef.current.on(ACTIONS.FILE_CREATE, ({ file }) => {\n        setFiles((prev) => {\n          if (prev.find((f) => f.id === file.id)) return prev;\n          return [...prev, file];\n        });\n      });\n\n      // Handle file deletion from other users\n      socketRef.current.on(ACTIONS.FILE_DELETE, ({ fileId }) => {\n        setFiles((prev) => {\n          const newFiles = prev.filter((f) => f.id !== fileId);\n          if (fileId === activeFileId && newFiles.length > 0) {\n            setActiveFileId(newFiles[0].id);\n          }\n          return newFiles;\n        });\n      });\n\n      // Handle file rename from other users\n      socketRef.current.on(ACTIONS.FILE_RENAME, ({ fileId, newName }) => {\n        setFiles((prev) =>\n          prev.map((f) => (f.id === fileId ? { ...f, name: newName } : f))\n        );\n      });\n    };\n\n    init();\n\n    // Cleanup on unmount\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n        socketRef.current.off(ACTIONS.JOINED);\n        socketRef.current.off(ACTIONS.DISCONNECTED);\n        socketRef.current.off(ACTIONS.FILE_SYNC);\n        socketRef.current.off(ACTIONS.FILE_CREATE);\n        socketRef.current.off(ACTIONS.FILE_DELETE);\n        socketRef.current.off(ACTIONS.FILE_RENAME);\n      }\n    };\n  }, []);\n\n  // Redirect if no username\n  if (!Location.state) {\n    return <Navigate to=\"/\" />;\n  }\n\n  // Copy room ID to clipboard\n  const copyRoomId = async () => {\n    try {\n      await navigator.clipboard.writeText(roomId);\n      toast.success(\"Room ID copied!\");\n    } catch (error) {\n      toast.error(\"Failed to copy Room ID\");\n    }\n  };\n\n  // Leave room and go home\n  const leaveRoom = () => {\n    navigate(\"/\");\n  };\n\n  // ========== FILE MANAGEMENT HANDLERS ==========\n\n  const handleFileCreate = (fileName) => {\n    if (!socketRef.current) {\n      toast.error(\"Not connected to server\");\n      return;\n    }\n\n    const newFile = {\n      id: `file-${Date.now()}`,\n      name: fileName,\n      content: \"\",\n    };\n\n    // Add to local state immediately (optimistic update)\n    setFiles((prev) => [...prev, newFile]);\n    setActiveFileId(newFile.id);\n\n    // Sync with server\n    socketRef.current.emit(ACTIONS.FILE_CREATE, { roomId, file: newFile });\n    toast.success(`${fileName} created`);\n  };\n\n  const handleFileImport = (fileName, content) => {\n    if (!socketRef.current) {\n      toast.error(\"Not connected to server\");\n      return;\n    }\n\n    const newFile = {\n      id: `file-${Date.now()}`,\n      name: fileName,\n      content: content,\n    };\n\n    // Add to local state immediately (optimistic update)\n    setFiles((prev) => [...prev, newFile]);\n    setActiveFileId(newFile.id);\n\n    // Sync with server\n    socketRef.current.emit(ACTIONS.FILE_CREATE, { roomId, file: newFile });\n    toast.success(`${fileName} imported`);\n  };\n\n  const handleFileDelete = (fileId) => {\n    if (files.length <= 1) {\n      toast.error(\"Cannot delete the last file\");\n      return;\n    }\n\n    // Remove from local state immediately\n    setFiles((prev) => {\n      const newFiles = prev.filter((f) => f.id !== fileId);\n      if (fileId === activeFileId && newFiles.length > 0) {\n        setActiveFileId(newFiles[0].id);\n      }\n      return newFiles;\n    });\n\n    // Sync with server\n    socketRef.current.emit(ACTIONS.FILE_DELETE, { roomId, fileId });\n    toast.success(\"File deleted\");\n  };\n\n  const handleFileRename = (fileId, newName) => {\n    // Update local state immediately\n    setFiles((prev) =>\n      prev.map((f) => (f.id === fileId ? { ...f, name: newName } : f))\n    );\n\n    // Sync with server\n    socketRef.current.emit(ACTIONS.FILE_RENAME, { roomId, fileId, newName });\n    toast.success(\"File renamed\");\n  };\n\n  const handleFileSelect = (fileId) => {\n    setActiveFileId(fileId);\n  };\n\n  const handleCodeChange = (code) => {\n    codeRef.current = code;\n    // Update file content in local state\n    setFiles((prev) =>\n      prev.map((f) => (f.id === activeFileId ? { ...f, content: code } : f))\n    );\n  };\n\n  // Get active file object\n  const activeFile = files.find((f) => f.id === activeFileId);\n\n  return (\n    <div className=\"container-fluid vh-100\">\n      <div className=\"row h-100\">\n        {/* Sidebar */}\n        <div\n          className=\"col-md-2 bg-dark text-light d-flex flex-column h-100\"\n          style={{ boxShadow: \"2px 0px 4px rgba(0, 0, 0, 0.1)\" }}\n        >\n          <hr style={{ marginTop: \"-3rem\" }} />\n\n          {/* File Explorer */}\n          <FileExplorer\n            files={files}\n            activeFile={activeFileId}\n            onFileSelect={handleFileSelect}\n            onFileCreate={handleFileCreate}\n            onFileDelete={handleFileDelete}\n            onFileRename={handleFileRename}\n            onFileImport={handleFileImport}\n          />\n\n          <hr />\n\n          {/* Members List */}\n          <div className=\"d-flex flex-column flex-grow-1 overflow-auto\">\n            <h6 className=\"mb-2 text-light\">ðŸ‘¥ Members</h6>\n            {clients.map((client) => (\n              <Client key={client.socketId} username={client.username} />\n            ))}\n          </div>\n\n          <hr />\n\n          {/* Action Buttons */}\n          <div className=\"mt-auto mb-3\">\n            <button className=\"btn btn-success w-100 mb-2\" onClick={copyRoomId}>\n              ðŸ“‹ Copy Room ID\n            </button>\n            <button className=\"btn btn-danger w-100\" onClick={leaveRoom}>\n              ðŸšª Leave Room\n            </button>\n          </div>\n        </div>\n\n        {/* Editor Panel */}\n        <div className=\"col-md-10 text-light d-flex flex-column h-100\">\n          {activeFile ? (\n            <Editor\n              socketRef={socketRef}\n              roomId={roomId}\n              fileId={activeFileId}\n              content={activeFile.content}\n              onCodeChange={handleCodeChange}\n            />\n          ) : (\n            <div className=\"d-flex align-items-center justify-content-center h-100\">\n              <div className=\"text-center text-muted\">\n                <h3>No file selected</h3>\n                <p>Create a new file or import one to get started</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default EditorPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}